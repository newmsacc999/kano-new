<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IPL 2025 Tickets | CSK vs RCB</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    :root {
      --primary: #2c3e50;
      --secondary: #e74c3c;
      --accent: #3498db;
      --light: #ecf0f1;
      --dark: #2c3e50;
      --success: #27ae60;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background-color: #f5f5f5;
      color: #333;
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .header {
      padding: 15px 20px;
      border-bottom: 1px solid #e0e0e0;
      background-color: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .back-link {
      display: flex;
      align-items: center;
      text-decoration: none;
      color: #333;
      font-weight: 500;
    }

    .back-link svg {
      margin-right: 8px;
      width: 18px;
      height: 18px;
    }

    .page-title {
      font-size: 18px;
      font-weight: 600;
    }

    .match-header {
      text-align: center;
      margin: 30px 0;
    }

    .match-header h1 {
      font-size: 28px;
      color: var(--primary);
    }

    /* Match Card Styles */
    .match-card {
      background-color: white;
      border-radius: 10px;
      padding: 25px;
      margin: 20px auto;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      text-align: center;
      max-width: 600px;
    }

    .teams-container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 2rem;
      margin-bottom: 1rem;
    }

    .team {
      display: flex;
      flex-direction: column;
      align-items: center;
      flex: 1;
    }

    .team-logo {
      width: 70px;
      height: 70px;
      object-fit: contain;
      border-radius: 50%;
      border: 2px solid #e0e0e0;
    }

    .team-name {
      margin-top: 0.75rem;
      font-size: 0.95rem;
      font-weight: 500;
      color: #333;
    }

    .vs {
      font-size: 1.5rem;
      font-weight: bold;
      color: var(--secondary);
      margin: 0 10px;
    }

    .match-details {
      margin-top: 1.5rem;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      align-items: center;
    }

    .match-details-row {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.95rem;
      color: #555;
    }

    .match-details-icon {
      width: 18px;
      height: 18px;
      color: var(--secondary);
    }

    /* Mobile-specific 2.7:1 aspect ratio */
    @media (max-width: 768px) {
      .match-card {
        width: 100%;
        aspect-ratio: 2.7 / 1;
        padding: 15px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }

      .teams-container {
        flex-direction: row;
        flex-grow: 1;
        gap: 1rem;
        margin-bottom: 0;
      }

      .vs {
        font-size: 1.2rem;
        margin: 0 5px;
        transform: none;
      }

      .team {
        flex-direction: column;
        justify-content: center;
      }

      .team-logo {
        width: 50px;
        height: 50px;
      }

      .team-name {
        font-size: 0.8rem;
        margin-top: 0.5rem;
      }

      .match-details {
        margin-top: 0;
        flex-direction: row;
        justify-content: center;
        gap: 1rem;
        flex-wrap: wrap;
      }

      .match-details-row {
        font-size: 0.8rem;
      }

      .match-details-icon {
        width: 14px;
        height: 14px;
      }
    }

    /* [Rest of your existing styles...] */
    .stadium-map-container {
      background-color: white;
      border-radius: 10px;
      padding: 25px;
      margin: 30px 0;
      box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
    }

    .section-title {
      font-size: 24px;
      margin: 0 0 20px 0;
      color: var(--primary);
      text-align: center;
    }

    .stadium-map {
      width: 100%;
      max-width: 800px;
      margin: 20px auto;
      display: block;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      border: 1px solid #ddd;
    }

    .section-info {
      font-style: italic;
      color: #666;
      margin: 15px 0;
      text-align: center;
      font-size: 15px;
    }

    .ticket-types {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin: 25px 0;
      justify-content: center;
    }

    .ticket-type {
      background-color: var(--light);
      padding: 12px 20px;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.2s;
      border: 1px solid #ddd;
      font-size: 15px;
    }

    .ticket-type:hover {
      background-color: #e0e0e0;
    }

    .ticket-type.selected {
      background-color: var(--secondary);
      color: white;
      border-color: var(--secondary);
    }

    .booking-summary {
      background-color: white;
      border-radius: 10px;
      padding: 30px;
      margin: 40px auto;
      max-width: 600px;
      box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
    }

    .price-section {
      margin: 25px 0;
    }

    .price-row {
      display: flex;
      justify-content: space-between;
      margin: 15px 0;
      align-items: center;
      font-size: 16px;
    }

    .total {
      font-weight: bold;
      border-top: 1px solid #eee;
      padding-top: 15px;
      margin-top: 20px;
      font-size: 18px;
    }

    .quantity-selector {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .quantity-btn {
      width: 34px;
      height: 34px;
      border: 1px solid #ddd;
      background-color: white;
      border-radius: 50%;
      cursor: pointer;
      font-weight: bold;
      font-size: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }

    .quantity-btn:hover {
      background-color: #f5f5f5;
    }

    .quantity {
      min-width: 40px;
      text-align: center;
      font-size: 16px;
      font-weight: 500;
    }

    .action-btns {
      display: flex;
      justify-content: flex-end;
      margin-top: 30px;
    }

    .btn {
      padding: 14px 32px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.2s;
      font-size: 16px;
    }

    .btn-primary {
      background-color: var(--secondary);
      color: white;
    }

    .btn-primary:hover {
      background-color: #c0392b;
    }

    .btn-primary:disabled {
      background-color: #cccccc;
      cursor: not-allowed;
    }
  </style>
</head>

<body>
  <header class="header">
    <a href="index.html" class="back-link">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m15 18-6-6 6-6"></path>
      </svg>
      Back to Matches
    </a>
    <h1 class="page-title">IPL 2025 Tickets</h1>
  </header>

  <div class="container">
    <div class="match-header">
      <h1>Select Your Seats</h1>
    </div>

    <!-- Match Card -->
    <div class="match-card">
      <div class="teams-container">
        <div class="team">
          <img id="team1-logo" src="" alt="Team 1" class="team-logo" />
          <span id="team1-name" class="team-name">Team 1</span>
        </div>
        <div class="vs">VS</div>
        <div class="team">
          <img id="team2-logo" src="" alt="Team 2" class="team-logo" />
          <span id="team2-name" class="team-name">Team 2</span>
        </div>
      </div>
      <div class="match-details">
        <div class="match-details-row">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="match-details-icon">
            <path d="M8 2v4"></path>
            <path d="M16 2v4"></path>
            <rect width="18" height="18" x="3" y="4" rx="2"></rect>
            <path d="M3 10h18"></path>
          </svg>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="match-details-icon">
            <circle cx="12" cy="12" r="10"></circle>
            <polyline points="12 6 12 12 16 14"></polyline>
          </svg>
          <span id="match-date-time">Date and Time</span>
        </div>
        <div class="match-details-row">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="match-details-icon">
            <path
              d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0">
            </path>
            <circle cx="12" cy="10" r="3"></circle>
          </svg>
          <span id="match-venue">Venue</span>
        </div>
      </div>
    </div>

    <!-- [Rest of your content remains the same] -->
    <div class="stadium-map-container">
      <h2 class="section-title">Stadium Map</h2>
      <img
        src="https://ultimatecricketguru.com/wp-content/uploads/2023/09/m-chinnaswamy-stadium-bangalore-seating-plan.webp"
        alt="Stadium Map" class="stadium-map" />

      <hr />

      <p class="section-info">Select a section from the stadium map</p>
      <p class="section-info">
        Click on a section to select your preferred seating area
      </p>

      <div class="ticket-types">
  <div class="ticket-type selected" data-type="general" data-price="239">
    General Stand
  </div>
  <div class="ticket-type" data-type="premium" data-price="299">
    Premium Stand
  </div>
  <div class="ticket-type" data-type="pavilion" data-price="379">
    Pavilion Stand
  </div>
  <div class="ticket-type" data-type="vip" data-price="449">
    VIP Stand
  </div>
  <div class="ticket-type" data-type="corporate" data-price="599">
    Corporate Box
  </div>
  <div class="ticket-type" data-type="skybox" data-price="999">
    Skybox/Lounge
  </div>
</div>
    </div>

    <div class="booking-summary">
      <h2 class="section-title">Booking Summary</h2>

      <div class="price-section">
        <div class="price-row">
          <span id="selected-ticket-type">No ticket selected</span>
          <span id="selected-ticket-price">₹0</span>
        </div>
      </div>

      <div class="price-section">
        <div class="price-row">
          <span>Quantity:</span>
          <div class="quantity-selector">
            <button class="quantity-btn minus">-</button>
            <span class="quantity">1</span>
            <button class="quantity-btn plus">+</button>
          </div>
        </div>
      </div>

      <div class="price-section total">
        <div class="price-row">
          <span>Total:</span>
          <span id="total-price">₹0</span>
        </div>
      </div>

      <div class="action-btns">
        <button class="btn btn-primary" id="proceed-btn" disabled>
          Proceed to Booking
        </button>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('dblclick', function(event) {
  event.preventDefault();
}, { passive: false });
    document.addEventListener("DOMContentLoaded", async function () {
      // [Previous JavaScript remains exactly the same]
      // Get match ID from URL
      const urlParams = new URLSearchParams(window.location.search);
      const matchId = urlParams.get("matchId");

      if (!matchId) {
        alert("No match specified");
        window.location.href = "index.html";
        return;
      }

      // Fetch match data
      let matchData;
      try {
        const response = await fetch("matches.json");
        if (!response.ok) throw new Error("Failed to fetch matches");
        const matches = await response.json();
        matchData = matches.find((m) => m.id === matchId);

        if (!matchData) {
          throw new Error("Match not found");
        }

        // Update the match card with fetched data
        document.title = `IPL 2025 Tickets | ${matchData.team1.short} vs ${matchData.team2.short}`;

        // Update team 1 info
        document.getElementById("team1-logo").src = matchData.team1.logo;
        document.getElementById("team1-logo").alt = matchData.team1.name;
        document.getElementById("team1-name").textContent =
          matchData.team1.name;

        // Update team 2 info
        document.getElementById("team2-logo").src = matchData.team2.logo;
        document.getElementById("team2-logo").alt = matchData.team2.name;
        document.getElementById("team2-name").textContent =
          matchData.team2.name;

        // Format and update date/time
        const date = new Date(`${matchData.date}T${matchData.time}:00`);
        const options = {
          weekday: "short",
          day: "numeric",
          month: "short",
          year: "numeric",
          hour: "2-digit",
          minute: "2-digit",
          hour12: true,
        };
        const dateStr = date.toLocaleString("en-IN", options);
        document.getElementById("match-date-time").textContent = dateStr;

        // Update venue
        document.getElementById("match-venue").textContent = matchData.venue;
      } catch (error) {
        console.error("Error loading match data:", error);
        alert("Error loading match data. Please try again.");
        window.location.href = "index.html";
        return;
      }


      const ticketTypes = document.querySelectorAll(".ticket-type");
      const ticketTypeDisplay = document.getElementById("selected-ticket-type");
      const ticketPriceDisplay = document.getElementById("selected-ticket-price");
      const totalPriceDisplay = document.getElementById("total-price");
      const quantityElement = document.querySelector(".quantity");
      const minusBtn = document.querySelector(".quantity-btn.minus");
      const plusBtn = document.querySelector(".quantity-btn.plus");
      const proceedBtn = document.getElementById("proceed-btn");

      let selectedTicketType = null;
      let selectedTicketPrice = 0;
      let quantity = 1;

      // Function to update total price
      function updateTotal() {
        const quantity = parseInt(quantityElement.textContent);
        const total = selectedTicketPrice * quantity;
        totalPriceDisplay.textContent = `₹${total}`;
      }

      // Function to select a ticket type
      function selectTicket(typeElement) {
  // Remove selected class from all
  ticketTypes.forEach((t) => t.classList.remove("selected"));

  // Add selected class to chosen one
  typeElement.classList.add("selected");

  // Update selected values
  selectedTicketType = typeElement.textContent.trim();
  selectedTicketPrice = parseInt(typeElement.dataset.price);

  // Update display
  ticketTypeDisplay.textContent = selectedTicketType;
  ticketPriceDisplay.textContent = `₹${selectedTicketPrice}`;

  // Recalculate total
  updateTotal();

  // Also update hidden input values
  document.getElementById("selected-type-value").value = typeElement.dataset.type;
  document.getElementById("selected-price-value").value = selectedTicketPrice;
}


      // Attach click event listeners to ticket types
      ticketTypes.forEach((type) => {
        type.addEventListener("click", function () {
          selectTicket(this);
        });
      });

      // Quantity buttons
      minusBtn.addEventListener("click", () => {
        if (quantity > 1) {
          quantity--;
          quantityElement.textContent = quantity;
          updateTotal();
        }
      });

      plusBtn.addEventListener("click", () => {
        quantity++;
        quantityElement.textContent = quantity;
        updateTotal();
      });
// Wait a short moment to ensure .ticket-type elements are in the DOM
setTimeout(() => {
  const firstTicket = document.querySelector(".ticket-type");
  if (firstTicket) {
    selectTicket(firstTicket);
  }
}, 0); // Run immediately after current call stack



     

      // Update total price
      function updateTotal() {
        if (selectedTicketType) {
          const total = selectedTicketPrice * quantity;
          totalPriceDisplay.textContent = `₹${total}`;
          proceedBtn.disabled = false;
        } else {
          totalPriceDisplay.textContent = "₹0";
          proceedBtn.disabled = true;
        }
      }

      // Proceed to booking
      proceedBtn.addEventListener("click", function () {
        if (!selectedTicketType) {
          alert("Please select a ticket type first");
          return;
        }

        // Get the ticket type from the selected button
        const ticketType = document.querySelector(".ticket-type.selected")
          .dataset.type;
        const baseAmount = selectedTicketPrice * quantity;

        // Redirect to booking page with all necessary parameters
        window.location.href = `booking.html?matchId=${matchId}&ticketType=${ticketType}&quantity=${quantity}&baseAmount=${baseAmount}`;
      });
    });
  </script>
  <script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015"
    integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ=="
    data-cf-beacon='{"rayId":"933c51d2ba526352","version":"2025.4.0-1-g37f21b1","r":1,"token":"35b426f0f1454a17842eb74e1334ac92","serverTiming":{"name":{"cfExtPri":true,"cfL4":true,"cfSpeedBrain":true,"cfCacheStatus":true}}}'
    crossorigin="anonymous"></script>
</body>

</html>